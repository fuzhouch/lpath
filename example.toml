# Define profile model
#
# * A profile defines a collection of stages in a game.
# * A game includes one or more stages.
# * A game has one or more end-game stages.
# * A game has one and only one begin-game stage.
# * A stage has one and only one entry.
# * A stage has one or more exits. Each exit leads to
#   one and only one "next stage".
# * A stage can offer one or more "skills" after passing through.
#   For example, a BOSS fight stage grants a new skill.
# * A stage can require one or more skills to enter.
#
# * "" is a speical value because toml does not allow empty array.
#   It's not processed in lpath.

[lpath]
skills = ["pan", "glide", "fireball"]

    [[stages]]
    id = "1-1"
    description = "outside-castle"
    begin = true
    # Assumption: Given a direct next stage B, a stage A should have
    # no more than one exit there.
    next-stage = { "1-2" = [""], "2-1" = [""]}

    [[stages]]
    id = "1-2"
    description = "castle-gate"
    next-stage = { "bossfight-skeleton" = [""] }

    [[stages]]
    id = "bossfight-skeleton"
    unlock-skills = [ "pan" ]
    next-stage = { "2-1" = [""] }

    [[stages]]
    id = "2-1"
    end = true
